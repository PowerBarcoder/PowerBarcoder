<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- jQuery library -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Socket I/O JS -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.1/socket.io.js"></script>
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          crossorigin="anonymous">

    <!--  Beautify output  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>

    <title>PowerBarcoder</title>
    <style>
        .dropdown-toggle::after {
            display: inline-block;
            margin-left: .255em;
            vertical-align: .255em;
            content: "";
            border-top: .3em solid;
            border-right: .3em solid transparent;
            border-bottom: 0;
            border-left: .3em solid transparent;
        }
    </style>

</head>
<body>
<div class="container">
    <br>
    <div class="container">
        <div class="row">
            <div class="col-md-12 d-md-flex justify-content-md-end">
                <button type="button" class=" btn btn-secondary"> v.<i>Beta</i></button>
            </div>
        </div>
    </div>
    <h1>PowerBarcoder GUI</h1>
    <p class="lead">Please fill out the following form and submit to start the analysis.</p>
    <!--    <form method="post" action="{{ url_for('start_data_procedure') }}">-->
    <form method="post">
        <div class="border border-gray p-3 bg-light">
            <div class="d-flex align-items-center">
                <h4 class="m-0">Path</h4>
                <button id="pathFormContainerToggleBtn" class="btn btn-primary dropdown-toggle ms-auto" type="button"
                        data-bs-toggle="collapse" href="#pathFormContainer" aria-expanded="false"
                        aria-controls="pathFormContainer">
                    Hide the Path Form
                </button>
            </div>
            <div id="pathFormContainer" class="mt-3 collapse">
                <!--                <div class="form-group">-->
                <!--                    <label for="myCutadaptPath">Cutadapt path:</label>-->
                <!--                    <div class="row ">-->
                <!--                        <div class="col-9">-->
                <!--                            <input type="text" class="form-control" id="myCutadaptPath" name="myCutadaptPath"-->
                <!--                                   placeholder="/home/lykuo/cutadapt-venv/bin/" disabled>-->
                <!--                        </div>-->
                <!--                        <div class="col">-->
                <!--                            <button class="btn btn-outline-secondary" type="button"-->
                <!--                                    onclick="document.getElementById('myCutadaptPath').value='/home/lykuo/cutadapt-venv/bin/'">-->
                <!--                                Auto-->
                <!--                            </button>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->
                <!--                <div class="form-group">-->
                <!--                    <label for="myFastpPath">Fastp path:</label>-->
                <!--                    <div class="row ">-->
                <!--                        <div class="col-9">-->
                <!--                            <input type="text" class="form-control" id="myFastpPath" name="myFastpPath"-->
                <!--                                   placeholder="/home/lykuo/miniconda2/bin/" disabled>-->
                <!--                        </div>-->
                <!--                        <div class="col">-->
                <!--                            <button class="btn btn-outline-secondary" type="button"-->
                <!--                                    onclick="document.getElementById('myFastpPath').value='/home/lykuo/miniconda2/bin/'">-->
                <!--                                Auto-->
                <!--                            </button>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->
                <!--                <div class="form-group">-->
                <!--                    <label for="localBlastToolDir">Blast path:</label>-->
                <!--                    <div class="row ">-->
                <!--                        <div class="col-9">-->
                <!--                            <input type="text" class="form-control" id="localBlastToolDir" name="localBlastToolDir"-->
                <!--                                   placeholder="/home/lykuo/ncbi-blast-2.10.0+/bin/" disabled>-->
                <!--                        </div>-->
                <!--                        <div class="col">-->
                <!--                            <button class="btn btn-outline-secondary" type="button"-->
                <!--                                    onclick="document.getElementById('localBlastToolDir').value='/home/lykuo/ncbi-blast-2.10.0+/bin/'">-->
                <!--                                Auto-->
                <!--                            </button>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->
                <!--                <div class="form-group">-->
                <!--                    <label for="ampliconInfo">NGS data path:</label>-->
                <!--                    <div class="row ">-->
                <!--                        <div class="col-9">-->
                <!--                            <input type="text" class="form-control" id="ampliconInfo" name="ampliconInfo"-->
                <!--                                   placeholder="/home2/barcoder_test/RUN1.5/" disabled>-->
                <!--                        </div>-->
                <!--                        <div class="col">-->
                <!--                            <button class="btn btn-outline-secondary" type="button"-->
                <!--                                    onclick="document.getElementById('ampliconInfo').value='/home2/barcoder_test/RUN1.5/'">-->
                <!--                                Auto-->
                <!--                            </button>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->
                <!--                <div class="form-group">-->
                <!--                    <label for="resultDataPath">Result path:</label>-->
                <!--                    <div class="row ">-->
                <!--                        <div class="col-9">-->
                <!--                            <input type="text" class="form-control" id="resultDataPath" name="resultDataPath"-->
                <!--                                   placeholder="/home2/barcoder_test/RUN_sk_20230111_10N/PowerBarcoder/result_rbcL_final/" disabled>-->
                <!--                        </div>-->
                <!--                        <div class="col">-->
                <!--                            <button class="btn btn-outline-secondary" type="button"-->
                <!--                                    onclick="document.getElementById('resultDataPath').value='/home2/barcoder_test/RUN_sk_20230111_10N/PowerBarcoder/result_rbcL_final/'">-->
                <!--                                Auto-->
                <!--                            </button>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->
                <!--                <div class="form-group">-->
                <!--                    <label for="missList">Missing list path:</label>-->
                <!--                    <div class="row ">-->
                <!--                        <div class="col-9">-->
                <!--                            <input type="text" class="form-control" id="missList" name="missList"-->
                <!--                                   placeholder="/home2/barcoder_test/RUN_sk_20230111_10N/PowerBarcoder/result_rbcL_final/missingList.txt" disabled>-->
                <!--                        </div>-->
                <!--                        <div class="col">-->
                <!--                            <button class="btn btn-outline-secondary" type="button"-->
                <!--                                    onclick="document.getElementById('missList').value='/home2/barcoder_test/RUN_sk_20230111_10N/PowerBarcoder/result_rbcL_final/missingList.txt'">-->
                <!--                                Auto-->
                <!--                            </button>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->
                <div class="form-group">
                    <label for="R1FastqGz">R1 fastq.gz file path:</label>
                    <div class="row ">
                        <div class="col-9">
                            <input type="text" class="form-control" id="R1FastqGz" name="R1FastqGz"
                                   placeholder="/PowerBarcoder/data/amplicon_data/trim_RUN1.5_R1.fq.gz">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('R1FastqGz').value='/PowerBarcoder/data/amplicon_data/trim_RUN1.5_R1.fq.gz'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="R2FastqGz">R2 fastq.gz file path:</label>
                    <div class="row ">
                        <div class="col-9">
                            <input type="text" class="form-control" id="R2FastqGz" name="R2FastqGz"
                                   placeholder="/PowerBarcoder/data/amplicon_data/trim_RUN1.5_R2.fq.gz">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('R2FastqGz').value='/PowerBarcoder/data/amplicon_data/trim_RUN1.5_R2.fq.gz'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <!--                <div class="form-group">-->
                <!--                    <label for="summaryJsonFileName">Summary Json File Name:</label>-->
                <!--                    <div class="row ">-->
                <!--                        <div class="col-9">-->
                <!--                            <input type="text" class="form-control" id="summaryJsonFileName" name="summaryJsonFileName"-->
                <!--                                   placeholder="221229RUN1_5.json" disabled>-->
                <!--                        </div>-->
                <!--                        <div class="col">-->
                <!--                            <button class="btn btn-outline-secondary" type="button"-->
                <!--                                    onclick="document.getElementById('summaryJsonFileName').value='221229RUN1_5.json'">-->
                <!--                                Auto-->
                <!--                            </button>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->
                <!--                <div class="form-group">-->
                <!--                    <label for="summaryHtmlFileName">Summary Html File Name:</label>-->
                <!--                    <div class="row ">-->
                <!--                        <div class="col-9">-->
                <!--                            <input type="text" class="form-control" id="summaryHtmlFileName" name="summaryHtmlFileName"-->
                <!--                                   placeholder="221229RUN1_5.html" disabled>-->
                <!--                        </div>-->
                <!--                        <div class="col">-->
                <!--                            <button class="btn btn-outline-secondary" type="button"-->
                <!--                                    onclick="document.getElementById('summaryHtmlFileName').value='221229RUN1_5.html'">-->
                <!--                                Auto-->
                <!--                            </button>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->
                <div class="form-group">
                    <label for="dada2LearnErrorFile">Dada2 Error File:</label>
                    <div class="row ">
                        <div class="col-9">
                            <input type="text" class="form-control" id="dada2LearnErrorFile" name="dada2LearnErrorFile"
                                   placeholder="/PowerBarcoder/data/dada2LearnErrorFile/">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('dada2LearnErrorFile').value='/PowerBarcoder/data/dada2LearnErrorFile/'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="dada2BarcodeFile">Dada2 Barcode File:</label>
                    <div class="row ">
                        <div class="col-9">
                            <input type="text" class="form-control" id="dada2BarcodeFile" name="dada2BarcodeFile"
                                   placeholder="multiplex_cpDNAbarcode_clean.txt">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('dada2BarcodeFile').value='multiplex_cpDNAbarcode_clean.txt'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- blank div -->
        <hr>


        <div class="border border-gray p-3 bg-light">
            <div class="d-flex align-items-center">
                <h4 class="m-0">Locus</h4>
                <button id="locusFormContainerToggleBtn" class="btn btn-primary dropdown-toggle ms-auto" type="button"
                        data-bs-toggle="collapse" href="#locusFormContainer" aria-expanded="false"
                        aria-controls="pathFormContainer">
                    Hide the Locus Form
                </button>
            </div>
            <div id="locusFormContainer" class="mt-3  collapse">
                <div class="form-group">
                    <label for="nameOfLoci">Name of Loci:</label>
                    <div class="row ">
                        <div class="col-9">
                            <input type="text" class="form-control nameOfLoci" id="nameOfLoci" name="nameOfLoci"
                                   placeholder="rbcLN">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('nameOfLoci').value='rbcLN'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="errorRateCutadaptor">Error Rate Cutadaptor:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control errorRateCutadaptor" id="errorRateCutadaptor"
                                   name="errorRateCutadaptor"
                                   placeholder="0.125">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('errorRateCutadaptor').value='0.125'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="minimumLengthCutadaptor">Minimum Length Cutadaptor:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control minimumLengthCutadaptor" id="minimumLengthCutadaptor"
                                   name="minimumLengthCutadaptor"
                                   placeholder="70">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('minimumLengthCutadaptor').value='70'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="primerF">Primer F:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control primerF" id="primerF" name="primerF"
                                   placeholder="GAGACTAAAGCAGGTGTTGGATTCA">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('primerF').value='GAGACTAAAGCAGGTGTTGGATTCA'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="primerR">Primer R:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control primerR" id="primerR" name="primerR"
                                   placeholder="TCAAGTCCACCRCGAAGRCATTC">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('primerR').value='TCAAGTCCACCRCGAAGRCATTC'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">

                    <label for="amplicon_r1">Amplicon R1:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control amplicon_r1" id="amplicon_r1"
                                   name="amplicon_r1"
                                   placeholder="rbcLN_amplicon_r1.fq">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('amplicon_r1').value='rbcLN_amplicon_r1.fq'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="amplicon_r2">Amplicon R2:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control amplicon_r2" id="amplicon_r2"
                                   name="amplicon_r2"
                                   placeholder="rbcLN_amplicon_r2.fq">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('amplicon_r2').value='rbcLN_amplicon_r2.fq'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="barcodesFile1">Barcodes File 1:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control barcodesFile1" id="barcodesFile1"
                                   name="barcodesFile1"
                                   placeholder="barcodes_rbcL_start_0.fasta">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('barcodesFile1').value='barcodes_rbcL_start_0.fasta'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="barcodesFile2">Barcodes File 2:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control barcodesFile2"
                                   id="barcodesFile2"
                                   name="barcodesFile2"
                                   placeholder="barcodes_rbcLN_start2_0.fasta">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('barcodesFile2').value='barcodes_rbcLN_start2_0.fasta'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="sseqidFileName">Sseqid File Name:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control sseqidFileName"
                                   id="sseqidFileName"
                                   name="sseqidFileName"
                                   placeholder="fermalies_rbcL.fasta">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary"
                                    type="button"
                                    onclick="document.getElementById('sseqidFileName').value='fermalies_rbcL.fasta'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="minimumLengthCutadaptorInLoop">Minimum Length
                        Cutadaptor In
                        Loop:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control minimumLengthCutadaptorInLoop"
                                   id="minimumLengthCutadaptorInLoop"
                                   name="minimumLengthCutadaptorInLoop"
                                   placeholder="150">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary"
                                    type="button"
                                    onclick="document.getElementById('minimumLengthCutadaptorInLoop').value='150'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="customizedThreadNumber">Customized Thread
                        Number:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control customizedThreadNumber"
                                   id="customizedThreadNumber"
                                   name="customizedThreadNumber"
                                   placeholder="30">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary"
                                    type="button"
                                    onclick="document.getElementById('customizedThreadNumber').value='30'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div id="locusContainer1"></div>
        <hr id="locusHr1" class="d-none">
        <div id="locusContainer2"></div>
        <hr id="locusHr2" class="d-none">
        <div id="locusContainer3"></div>
        <hr id="locusHr3" class="d-none">
        <div id="locusContainer4"></div>
        <hr id="locusHr4" class="d-none">

        <br>

        <input id="addLocusButton" type="button" class=" btn btn-secondary" value="add new locus">

        <!-- blank div -->
        <hr>

        <div class="container">
            <div class="row">
                <div class="col-md-12 d-md-flex justify-content-md-end">
                    <input type="submit" class=" btn btn-primary" value="Submit">
                </div>
            </div>
        </div>

    </form>

</div>


<!-- Modal -->
<div class="modal" id="myModal">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Form submitted successfully!</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12 d-md-flex justify-content-md-end">
                            <input type="beautify" id="beautify" class=" btn btn-primary" value="Beautify">
                        </div>
                    </div>
                </div>
                <div class="text-center mb-3">
                    <!--                    <img src="/static/loading.gif" alt="Loading"/>-->
                </div>
                <div>
                <pre>
                    <code class="apache" id="console">
                    </code>
                </pre>
                </div>
                <script>
                    var socket = io.connect('http://localhost:5000', {
                        withCredentials: true,
                    });

                    socket.on('procedure-result', function (data) {
                        // update console with data
                        $("#console").append(data);
                        // console.log(data);
                        // Scroll to the bottom of the output div
                        // $("#console").scrollTop = $("#console").scrollHeight;
                    });

                    $('#beautify').on("click", function (event) {
                        hljs.highlightAll();
                    });

                    $(document).on("submit", 'form', function (event) {
                        // Prevent default form submission
                        event.preventDefault();


                        // Collect form data
                        const formData = {
                            // 'myCutadaptPath': $('#myCutadaptPath').val(),
                            // 'myFastpPath': $('#myFastpPath').val(),
                            // 'localBlastToolDir': $('#localBlastToolDir').val(),
                            // 'ampliconInfo': $('#ampliconInfo').val(),
                            // 'resultDataPath': $('#resultDataPath').val(),
                            // 'missList': $('#missList').val(),
                            'R1FastqGz': $('#R1FastqGz').val(),
                            'R2FastqGz': $('#R2FastqGz').val(),
                            // 'summaryJsonFileName': $('#summaryJsonFileName').val(),
                            // 'summaryHtmlFileName': $('#summaryHtmlFileName').val(),
                            'dada2LearnErrorFile': $('#dada2LearnErrorFile').val(),
                            'dada2BarcodeFile': $('#dada2BarcodeFile').val(),
                            'nameOfLoci': $('#nameOfLoci').map(function () {
                                return $(this).val();
                            }).get(),
                            'errorRateCutadaptor': $('#errorRateCutadaptor').map(function () {
                                return $(this).val();
                            }).get(),
                            'minimumLengthCutadaptor': $('#minimumLengthCutadaptor').map(function () {
                                return $(this).val();
                            }).get(),
                            'primerF': $('#primerF').map(function () {
                                return $(this).val();
                            }).get(),
                            'primerR': $('#primerR').map(function () {
                                return $(this).val();
                            }).get(),
                            'amplicon_r1': $('#amplicon_r1').map(function () {
                                return $(this).val();
                            }).get(),
                            'amplicon_r2': $('#amplicon_r2').map(function () {
                                return $(this).val();
                            }).get(),
                            'barcodesFile1': $('#barcodesFile1').map(function () {
                                return $(this).val();
                            }).get(),
                            'barcodesFile2': $('#barcodesFile2').map(function () {
                                return $(this).val();
                            }).get(),
                            'sseqidFileName': $('#sseqidFileName').map(function () {
                                return $(this).val();
                            }).get(),
                            'minimumLengthCutadaptorInLoop': $('#minimumLengthCutadaptorInLoop').map(function () {
                                return $(this).val();
                            }).get(),
                            'customizedThreadNumber': $('#customizedThreadNumber').map(function () {
                                return $(this).val();
                            }).get(),
                        }
                        // Serialize form data
                        // let formData = $('form').serialize();
                        console.log(formData)
                        // Show the modal
                        $("#myModal").modal("show")
                        socket.emit('run-procedure', formData);
                    });
                </script>
                <div class="text-center d-none" id="success-content">
                    <i class="bi bi-check-circle-fill text-success"></i>
                    <p class="my-3">Your request has been submitted successfully.</p>
                    <p class="my-3">You can find the results in:</p>
                    <a href="C:\Users\kwz50" target="_blank">C:\Users\kwz50</a>
                </div>
            </div>
        </div>
    </div>
</div>
<hr>


<script>
    let locusContainerCount = 0;

    // Get the button element
    const addButton = document.getElementById('addLocusButton');


    // Add an event listener to the button
    addButton.addEventListener('click', function () {
        locusContainerCount++
        let idString = 'locusContainer' + locusContainerCount.toString();
        // Get the container element where the new DOM will be appended
        const container = document.getElementById(idString);

        // Create a new div element
        const newDiv = document.createElement('div');

        // Create the content for the new div element
        const content = `
<div class="border border-gray p-3 bg-light">
            <div class="d-flex align-items-center">
                <h4 class="m-0">Locus</h4>
                <button id="locusFormContainerToggleBtn${locusContainerCount.toString()}" class="btn btn-primary dropdown-toggle ms-auto" type="button"
                        data-bs-toggle="collapse" href="#locusFormContainer${locusContainerCount.toString()}" aria-expanded="false" aria-controls="pathFormContainer">
                    Hide the Locus Form
                </button>
            </div>
            <div id="locusFormContainer${locusContainerCount.toString()}" class="mt-3  collapse">
                <div class="form-group">
                    <label for="nameOfLoci">Name of Loci:</label>
                    <div class="row ">
                        <div class="col-9">
                            <input type="text" class="form-control nameOfLoci" id="nameOfLoci" name="nameOfLoci"
                                   placeholder="rbcLN">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('nameOfLoci').value='rbcLN'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="errorRateCutadaptor">Error Rate Cutadaptor:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control errorRateCutadaptor" id="errorRateCutadaptor"
                                   name="errorRateCutadaptor"
                                   placeholder="0.125">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('errorRateCutadaptor').value='0.125'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="minimumLengthCutadaptor">Minimum Length Cutadaptor:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control minimumLengthCutadaptor" id="minimumLengthCutadaptor"
                                   name="minimumLengthCutadaptor"
                                   placeholder="70">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('minimumLengthCutadaptor').value='70'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="primerF">Primer F:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control primerF" id="primerF" name="primerF"
                                   placeholder="GAGACTAAAGCAGGTGTTGGATTCA">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('primerF').value='GAGACTAAAGCAGGTGTTGGATTCA'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="primerR">Primer R:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control primerR" id="primerR" name="primerR"
                                   placeholder="TCAAGTCCACCRCGAAGRCATTC">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('primerR').value='TCAAGTCCACCRCGAAGRCATTC'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">

                    <label for="amplicon_r1">Amplicon R1:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control amplicon_r1" id="amplicon_r1"
                                   name="amplicon_r1"
                                   placeholder="rbcLN_amplicon_r1.fq">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('amplicon_r1').value='rbcLN_amplicon_r1.fq'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="amplicon_r2">Amplicon R2:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control amplicon_r2" id="amplicon_r2"
                                   name="amplicon_r2"
                                   placeholder="rbcLN_amplicon_r2.fq">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('amplicon_r2').value='rbcLN_amplicon_r2.fq'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="barcodesFile1">Barcodes File 1:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control barcodesFile1" id="barcodesFile1"
                                   name="barcodesFile1"
                                   placeholder="barcodes_rbcL_start_0.fasta">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('barcodesFile1').value='barcodes_rbcLN_start1_0.fasta'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="barcodesFile2">Barcodes File 2:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control barcodesFile2"
                                   id="barcodesFile2"
                                   name="barcodesFile2"
                                   placeholder="barcodes_rbcLN_start2_0.fasta">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary" type="button"
                                    onclick="document.getElementById('barcodesFile2').value='barcodes_rbcLN_start2_0.fasta'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="sseqidFileName">Sseqid File Name:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control sseqidFileName"
                                   id="sseqidFileName"
                                   name="sseqidFileName"
                                   placeholder="fermalies_rbcL.fasta">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary"
                                    type="button"
                                    onclick="document.getElementById('sseqidFileName').value='fermalies_rbcL.fasta'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="minimumLengthCutadaptorInLoop">Minimum Length
                        Cutadaptor In
                        Loop:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control minimumLengthCutadaptorInLoop"
                                   id="minimumLengthCutadaptorInLoop"
                                   name="minimumLengthCutadaptorInLoop"
                                   placeholder="150">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary"
                                    type="button"
                                    onclick="document.getElementById('minimumLengthCutadaptorInLoop').value='150'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="customizedThreadNumber">Customized Thread
                        Number:</label>
                    <div class="row">
                        <div class="col-9">
                            <input type="text" class="form-control customizedThreadNumber"
                                   id="customizedThreadNumber"
                                   name="customizedThreadNumber"
                                   placeholder="30">
                        </div>
                        <div class="col">
                            <button class="btn btn-outline-secondary"
                                    type="button"
                                    onclick="document.getElementById('customizedThreadNumber').value='30'">
                                Auto
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
`;

        // Set the innerHTML of the new div element to the content
        newDiv.innerHTML = content;
        // Append the new div element to the container element
        container.appendChild(newDiv);
    });

</script>


<script>
    // $(document).on("submit", 'form', function (event) {
    //     // Prevent default form submission
    //     event.preventDefault();
    //     // Show the modal
    //     $("#myModal").modal("show");
    //     $.ajax({
    //         url: "/start-data-procedure",
    //         type: "POST",
    //         data: $("form").serialize(),
    //         success: function () {
    //             console.log("Data procedure started.");
    //         },
    //         error: function () {
    //             console.log("Error starting data procedure.");
    //         }
    //     });
    //
    //     var updateInterval = setInterval(function () {
    //         $.ajax({
    //             url: "/get-logged-data",
    //             type: "GET",
    //             success: function (data) {
    //                 $("#data-container").append(data);
    //             },
    //             error: function () {
    //                 console.log("Error getting logged data.");
    //             }
    //         });
    //     }, 1000); // Update every 1 second
    // });

    // $(document).on("submit", 'form', function (event) {
    //     // Prevent default form submission
    //     event.preventDefault();
    //     // Show the modal
    //     $("#myModal").modal("show");
    //     $.ajax({
    //         url: "/run-procedure",
    //         type: "POST",
    //         data: $("form").serialize(),
    //         success: function () {
    //             console.log('Data procedure started');
    //         },
    //         error: function () {
    //             console.log("Error starting data procedure.");
    //         }
    //     });
    //
    //     // var updateInterval = setInterval(function () {
    //     //     $.ajax({
    //     //         url: "/get-logged-data",
    //     //         type: "GET",
    //     //         success: function (data) {
    //     //             $("#data-container").append(data);
    //     //         },
    //     //         error: function () {
    //     //             console.log("Error getting logged data.");
    //     //         }
    //     //     });
    //     // }, 1000); // Update every 1 second
    // });

</script>
</body>
</html>